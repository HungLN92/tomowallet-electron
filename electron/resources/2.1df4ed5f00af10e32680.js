(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2K2B":function(e,t,n){e.exports=n.p+"2a1a27c54efe879cb84cbaa8bc86134e.png"},Jut1:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("17x9"),u=n.n(a),c=n("G4qV"),i=n("/MKj"),l=n("ANjH"),s=n("Ty5D"),p=n("yDJ3"),f=n.n(p),d=n("I9vy"),y=n.n(d),b=n("afej"),O=n("ezmu"),h=n("/kxI"),E=n("ok1R"),P=n("rhny"),m=n("umxu"),T=n("cZcL"),_=n("TJpk"),v=n("InJ6"),L=n("jrRI"),g=n("3OM0"),A=n("L3zb"),R=n("hfUC"),j=n("JRPe"),w=n("Umz7"),I=n("WlAH");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,C(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("hdPathInput").focus()}},{key:"render",value:function(){var e=this.props,t=e.errors,n=e.formValues,r=e.intl.formatMessage,a=e.updateInput;return o.a.createElement(L.a,null,o.a.createElement(g.a,null,r(I.d.IMPORT_WALLET_TAB_LEDGER_INPUT_LABEL)),o.a.createElement(A.a,{id:"hdPathInput",name:"hdPath",value:f()(n,"hdPath",""),placeholder:r(I.d.IMPORT_WALLET_TAB_LEDGER_INPUT_PLACEHOLDER),onChange:function(e){return a("hdPath",e.target.value)},invalid:t.length>0}),o.a.createElement(R.a,null,t.map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))})),o.a.createElement(v.m,null,o.a.createElement(j.a,M({},I.d.IMPORT_WALLET_TAB_LEDGER_INPUT_DESCRIPTION,{values:{path1:o.a.createElement(v.g,{btnRed:!0,onClick:function(){return a("hdPath","m/44'/60'/0'")}},"m/44'/60'/0'"),path2:o.a.createElement(v.g,{btnRed:!0,onClick:function(){return a("hdPath","m/44'/60'/0'/0")}},"m/44'/60'/0'/0"),path3:o.a.createElement(v.g,{btnRed:!0,onClick:function(){return a("hdPath","m/44'/889'/0'/0")}},"m/44'/889'/0'/0")}}))))}}])&&D(n.prototype,a),u&&D(n,u),t}();k.propTypes={errors:u.a.arrayOf(u.a.string),formValues:u.a.object,intl:u.a.object,updateInput:u.a.func},k.defaultProps={errors:[],formValues:{},intl:{},updateInput:function(){}};var N=Object(w.c)(k),x=n("/pVl"),B=n("7Qib");function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,Y(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,this.props.setMetaMaskProvider)()}},{key:"componentWillUnmount",value:function(){var e=this.props.removeMetaMaskProvider,t=Object(B.t)();f()(t,"loginType")!==I.b.LOGIN_TYPE.META_MASK&&e()}},{key:"render",value:function(){return o.a.createElement("div",null,Object(w.b)(I.d.IMPORT_WALLET_TAB_METAMASK_CONTENT_MESSAGE))}}])&&G(n.prototype,a),u&&G(n,u),t}();H.propTypes={removeMetaMaskProvider:u.a.func,setMetaMaskProvider:u.a.func},H.defaultProps={removeMetaMaskProvider:function(){},setMetaMaskProvider:function(){}};var z=Object(x.d)(H),J=n("IP2g"),X=n("Mpt7"),q="TOMO_WALLET/IMPORT_WALLET/RESET_STATE",Q="TOMO_WALLET/IMPORT_WALLET/UPDATE_INPUT",Z="TOMO_WALLET/IMPORT_WALLET/UPDATE_TYPE",$={LEDGER:1,META_MASK:2,RP_OR_PK:3,KEYSTORE:4},ee=function(e){return f()(e,["importWallet"],Object(X.a)({}))},te=Object(B.f)(ee,function(e){return e.toJS().addressPopup}),ne=Object(B.f)(ee,function(e){return e.toJS().importWallet}),re=Object(B.f)(ee,function(e){return e.toJS().passwordPopup}),oe=function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/LOAD_KEYSTORE_FILE",data:e}},ae=function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/TOGGLE_PASSWORD_POPUP",bool:e}},ue=function(e,t){return{type:Q,name:e,value:t}};function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=le(t).call(this,e))||"object"!==ce(o)&&"function"!=typeof o?se(r):o).handleInputChange=n.handleInputChange.bind(se(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("recoveryPhraseInput").focus()}},{key:"handleInputChange",value:function(e){(0,this.props.onUpdateInput)("recoveryPhrase",e)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.importWallet,a=e.intl.formatMessage,u=f()(n,"errors",[]);return o.a.createElement(r.Fragment,null,o.a.createElement(L.a,null,o.a.createElement(g.a,null,a(I.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_INPUT_LABEL),o.a.createElement(J.a,{icon:"unlock"})),o.a.createElement(A.a,{id:"recoveryPhraseInput",type:"textarea",name:"recoveryPhrase",placeholder:a(I.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_INPUT_PLACEHOLDER),value:f()(n,"input.recoveryPhrase",""),onChange:Object(B.c)(this.handleInputChange),onKeyDown:Object(B.k)(t),invalid:u.length>0}),o.a.createElement(R.a,null,u.map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))}))))}}])&&ie(n.prototype,a),u&&ie(n,u),t}();fe.propTypes={handleSubmit:u.a.func,importWallet:u.a.object,intl:u.a.object,onUpdateInput:u.a.func,web3:u.a.object},fe.defaultProps={handleSubmit:function(){},importWallet:{},intl:{},onUpdateInput:function(){},web3:{}};var de=Object(i.c)(function(){return Object(c.b)({importWallet:ne})},function(e){return{onUpdateInput:function(t,n){return e(ue(t,n))}}}),ye=Object(l.d)(de,w.c,x.d)(fe),be=n("vOnD");function Oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function he(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  .upload-area {\n    width: 250px;\n    height: 250px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 10px;\n    border: 2px dashed #3f3e4e;\n    color: ",";\n    ","\n    &:hover {\n      filter: brightness(120%);\n    }\n    svg {\n      width: 50px;\n      height: 50px;\n      margin-bottom: 15px;\n      pointer-events: none;\n    }\n    .file-name {\n      width: 100%;\n      pointer-events: none;\n    }\n  }\n  .upload-text {\n    width: 250px;\n    pointer-events: none;\n  }\n  input[type='file'] {\n    display: none;\n  }\n"]);return he=function(){return e},e}var Ee=Object(be.a)(function(e){e.active;var t=e.children,n=Oe(e,["active","children"]);return o.a.createElement("div",n,t)})(he(),function(e){return e.uploaded?"#9aa3b3":"inherit"},function(e){return e.active&&"filter: brightness(120%);"});function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Te(t).call(this,e))||"object"!==Pe(o)&&"function"!=typeof o?_e(r):o).state={active:!1,fileName:""},n.handleChangeFile=n.handleChangeFile.bind(_e(n)),n.handleDragEnter=n.handleDragEnter.bind(_e(n)),n.handleDragLeave=n.handleDragLeave.bind(_e(n)),n.handleDragOver=n.handleDragOver.bind(_e(n)),n.handleDrop=n.handleDrop.bind(_e(n)),n.handleResetInput=n.handleResetInput.bind(_e(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleChangeFile",value:function(e){var t=this,n=this.props,r=n.onError,o=n.onLoaded,a=f()(e,"dataTransfer.files.0")||f()(e,"target.files.0");if(a){var u=new FileReader;u.readAsText(a),u.onloadend=function(){try{o(u.result),t.setState({active:!1,fileName:a.name})}catch(e){r(e.message)}}}}},{key:"handleDragEnter",value:function(){this.setState({active:!0})}},{key:"handleDragLeave",value:function(){this.setState({active:!1})}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleDrop",value:function(e){e.preventDefault(),this.setState({active:!1}),this.handleChangeFile(e)}},{key:"handleResetInput",value:function(e){e.target.value=""}},{key:"render",value:function(){var e=this.state,t=e.active,n=e.fileName;return o.a.createElement(Ee,{active:t},o.a.createElement("label",{className:"upload-area align-center text-center",onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop},n?o.a.createElement(r.Fragment,null,o.a.createElement(J.a,{icon:["far","file-alt"]}),o.a.createElement("div",{className:"file-name"},n)):o.a.createElement(J.a,{icon:"upload"}),o.a.createElement("input",{type:"file",name:"file",onClick:this.handleResetInput,onChange:this.handleChangeFile})),o.a.createElement("div",{className:"upload-text"},o.a.createElement("span",null,Object(w.b)(I.d.INPUT_FILE_UPLOAD_PLACEHOLDER))))}}])&&me(n.prototype,a),u&&me(n,u),t}();Le.propTypes={onError:u.a.func,onLoaded:u.a.func},Le.defaultProps={onError:function(){},onLoaded:function(){}};var ge=Le,Ae=n("mHXU");function Re(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""]);return Re=function(){return e},e}var je=Object(be.a)(Ae.a)(Re()),we=n("q7Gj"),Ie=n("re1l"),Se=n("Z+s4");function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=We(t).call(this,e))||"object"!==Me(o)&&"function"!=typeof o?Ce(r):o).handleChangePassword=n.handleChangePassword.bind(Ce(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){setTimeout(function(){document.getElementById("passwordInput").focus()},100)}},{key:"handleChangePassword",value:function(e){(0,this.props.updateInput)("password",e)}},{key:"render",value:function(){var e=this.props,t=e.decryptData,n=e.errors,r=e.intl.formatMessage,a=e.isRevealed,u=e.revealText,c=e.value;return o.a.createElement(L.a,null,o.a.createElement(we.a,null,o.a.createElement(A.a,{id:"passwordInput",type:a?"text":"password",name:"password",value:c,placeholder:r(I.d.IMPORT_WALLET_POPUP_PASSWORD_INPUT_PLACEHOLDER),onChange:Object(B.c)(this.handleChangePassword),onKeyDown:Object(B.k)(t),invalid:!!f()(n,"password")}),o.a.createElement(Ie.a,{addonType:"append"},o.a.createElement(Se.a,{role:"presentation",onClick:function(){return u(!a)}},o.a.createElement(J.a,{icon:["far",a?"eye-slash":"eye"]}))),o.a.createElement(R.a,null,f()(n,"password",""))))}}])&&De(n.prototype,a),u&&De(n,u),t}();ke.propTypes={errors:u.a.object,intl:u.a.object,isRevealed:u.a.bool,revealText:u.a.func,updateInput:u.a.func,value:u.a.string},ke.defaultProps={errors:{},intl:{},isRevealed:!1,revealText:function(){},updateInput:function(){},value:""};var Ne=Object(w.c)(ke);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ke(t).call(this,e))||"object"!==xe(o)&&"function"!=typeof o?Ge(r):o).handleClosePasswordPopup=n.handleClosePasswordPopup.bind(Ge(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleClosePasswordPopup",value:function(){var e=this.props,t=e.onLoadKeystoreFile,n=e.onTogglePasswordPopup;t({}),n(!1)}},{key:"render",value:function(){var e=this.props,t=e.decryptData,n=e.intl.formatMessage,r=e.onRevealPasswordInput,a=e.onUpdatePasswordPopupInput,u=e.popupData;return o.a.createElement(je,{button:{primary:{action:t,btnYellow:!0,label:n(I.d.COMMON_BUTTON_CONFIRM)},secondary:{action:this.handleClosePasswordPopup,label:n(I.d.COMMON_BUTTON_BACK)}},Content:Ne,getContentProps:{decryptData:t,errors:f()(u,"errors",{}),isRevealed:f()(u,"isRevealed",!1),revealText:r,updateInput:a,value:f()(u,"input.password","")},isOpen:f()(u,"isOpen",!1),title:n(I.d.IMPORT_WALLET_POPUP_PASSWORD_TITLE)})}}])&&Be(n.prototype,a),u&&Be(n,u),t}();Ye.propTypes={decryptData:u.a.func,intl:u.a.object,onRevealPasswordInput:u.a.func,onTogglePasswordPopup:u.a.func,onUpdatePasswordPopupInput:u.a.func,popupData:u.a.object},Ye.defaultProps={decryptData:function(){},intl:{},onRevealPasswordInput:function(){},onTogglePasswordPopup:function(){},onUpdatePasswordPopupInput:function(){},popupData:{}};var Fe=Object(i.c)(function(){return Object(c.b)({popupData:re})},function(e){return{onLoadKeystoreFile:function(t){return e(oe(t))},onRevealPasswordInput:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/REVEAL_PASSWORD_INPUT",bool:e}}(t))},onTogglePasswordPopup:function(t){return e(ae(t))},onUpdatePasswordPopupInput:function(t,n){return e(function(e,t){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_INPUT",name:e,value:t}}(t,n))}}}),He=Object(l.d)(Fe,w.c)(Ye);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Xe(t).call(this,e))||"object"!==ze(o)&&"function"!=typeof o?qe(r):o).handleDecryptFileData=n.handleDecryptFileData.bind(qe(n)),n.handleLoadKeystore=n.handleLoadKeystore.bind(qe(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleDecryptFileData",value:function(){var e=this.props,t=e.accessWallet,n=e.intl.formatMessage,r=e.onTogglePasswordPopup,o=e.onUpdateInput,a=e.onUpdatePasswordPopupErrors,u=e.passwordPopup,c=e.web3,i=f()(u,"input.password",""),l=f()(u,"fileData",{});try{var s=Object(B.i)(c,l,i);Object(B.x)()&&Object(B.S)(l).then(function(e){var t=e.error;t&&a({password:t.message})}),new Promise(function(e){return e(o("recoveryPhrase",f()(s,"privateKey")))}).then(function(){t("keystore")}).then(function(){r(!1)})}catch(e){a({password:n(I.d.IMPORT_WALLET_POPUP_PASSWORD_INPUT_INVALID_PASSWORD)})}}},{key:"handleLoadKeystore",value:function(e){var t=this.props,n=t.onLoadKeystoreFile,r=t.onTogglePasswordPopup;n(e),r(!0)}},{key:"render",value:function(){return o.a.createElement("div",{className:"d-flex flex-row justify-content-center text-center"},o.a.createElement(ge,{onLoaded:this.handleLoadKeystore}),o.a.createElement(He,{decryptData:this.handleDecryptFileData}))}}])&&Je(n.prototype,a),u&&Je(n,u),t}();Ze.propTypes={accessWallet:u.a.func,intl:u.a.object,onLoadKeystoreFile:u.a.func,onUpdateInput:u.a.func,onUpdatePasswordPopupErrors:u.a.func,passwordPopup:u.a.object,web3:u.a.object},Ze.defaultProps={accessWallet:function(){},intl:{},onLoadKeystoreFile:function(){},onUpdateInput:function(){},onUpdatePasswordPopupErrors:function(){},passwordPopup:{},web3:{}};var $e=Object(i.c)(function(){return Object(c.b)({passwordPopup:re})},function(e){return{onLoadKeystoreFile:function(t){return e(oe(t))},onTogglePasswordPopup:function(t){return e(ae(t))},onUpdateInput:function(t,n){return e(ue(t,n))},onUpdatePasswordPopupErrors:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_ERRORS",errors:e}}(t))}}}),et=Object(l.d)($e,w.c,x.d)(Ze);function tt(){var e=rt(["\n  position: absolute;\n  margin-top: 0;\n  margin-left: 0;\n  left: 10px;\n  top: 4px;\n"]);return tt=function(){return e},e}function nt(){var e=rt([""]);return nt=function(){return e},e}function rt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ot=Object(be.a)(Ae.a)(nt()),at=Object(be.a)(A.a)(tt());function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),it(this,lt(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.updateChosenAddress;return o.a.createElement(v.e,null,f()(t,"wallets",[]).map(function(e,r){return o.a.createElement(E.a,{key:"address_row_".concat(r+1),className:"py-3"},o.a.createElement(P.a,{xs:8,className:"text-truncate"},o.a.createElement("label",{className:"pl-5 m-0 position-relative",title:e.address},o.a.createElement(at,{type:"radio",name:"wallet",checked:f()(t,"chosenIndex")===r,onChange:function(){return n(r)}}),o.a.createElement(v.u,null,e.address))),o.a.createElement(P.a,{xs:4,className:"text-right"},"".concat(e.balance.toLocaleString(void 0,{minimumFractionDigits:3})," TOMO")))}))}}])&&ct(n.prototype,a),u&&ct(n,u),t}();pt.propTypes={data:u.a.object,updateChosenAddress:u.a.func},pt.defaultProps={data:{},updateChosenAddress:function(){}};var ft=pt;function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bt(this,Ot(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.accessByLedger,n=e.data,r=e.intl.formatMessage,a=e.togglePopup,u=e.updateChosenAddress;return o.a.createElement(ot,{Content:ft,button:{secondary:{label:r(I.d.COMMON_BUTTON_BACK),action:function(){return a(!1)}},primary:{btnYellow:!0,label:r(I.d.COMMON_BUTTON_UNLOCK),action:t}},getContentProps:{data:n,updateChosenAddress:u},getPopupProps:{size:"lg"},isOpen:f()(n,"isOpen",!1),title:r(I.d.IMPORT_WALLET_POPUP_ADDRESS_TITLE)})}}])&&yt(n.prototype,a),u&&yt(n,u),t}();Et.propTypes={accessByLedger:u.a.func,data:u.a.object,intl:u.a.object,togglePopup:u.a.func,updateChosenAddress:u.a.func},Et.defaultProps={accessByLedger:function(){},data:{},intl:{},togglePopup:function(){},updateChosenAddress:function(){}};var Pt=Object(w.c)(Et);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=Object(X.a)({addressPopup:{chosenIndex:"",isOpen:!1,wallets:[]},importWallet:{errors:[],input:{},type:$.LEDGER},passwordPopup:{errors:{},fileData:null,input:{},isOpen:!1,isRevealed:!1}}),vt=n("SiMB"),Lt=n("V6JL"),gt=n.n(Lt),At=n("2K2B"),Rt=n.n(At);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Mt(t).call(this,e))||"object"!==jt(o)&&"function"!=typeof o?Dt(r):o).LEDGER_WALLET_LIMIT=5,n.handleAccessByLedger=n.handleAccessByLedger.bind(Dt(n)),n.handleAccessByRecoveryPhrase=n.handleAccessByRecoveryPhrase.bind(Dt(n)),n.handleChangeType=n.handleChangeType.bind(Dt(n)),n.handleRedirect=n.handleRedirect.bind(Dt(n)),n.handleGetLedgerAddresses=n.handleGetLedgerAddresses.bind(Dt(n)),n.handleUpdateError=n.handleUpdateError.bind(Dt(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentWillUnmount",value:function(){(0,this.props.onResetState)()}},{key:"handleAccessByLedger",value:function(){var e=this,t=this.props,n=t.addressPopup,r=t.importWallet,o=t.onStoreWallet,a=f()(n,["wallets",f()(n,"chosenIndex")]),u=f()(I.f,[Object(B.q)()],{});a&&Object(B.o)(a.address,u).then(function(t){var u={address:a.address,balance:t};o(u),Object(B.G)(),Object(B.N)({loginType:I.b.LOGIN_TYPE.LEDGER,address:a.address,hdPath:"".concat(f()(r,"input.hdPath"),"/").concat(f()(n,"chosenIndex"))}),Object(B.x)()&&Object(B.D)().then(function(t){var n=t.error;return n&&e.handleUpdateError(n.message)})})}},{key:"handleAccessByRecoveryPhrase",value:function(e){var t=this,n=this.props,r=n.history,o=n.importWallet,a=n.intl.formatMessage,u=n.onStoreWallet,c=n.rpcServer,i=n.toggleLoading,l=n.updateWeb3,s=Object(B.Q)(f()(o,"input.recoveryPhrase",""));if(Object(B.z)(s)||Object(B.y)(s))try{i(!0);var p=Object(B.g)(s,c);l(p),Object(B.o)(p.currentProvider.addresses[0],c).then(function(e){var t={address:p.currentProvider.addresses[0],balance:e};u(t),Object(B.N)({loginType:I.b.LOGIN_TYPE.PRIVATE_KEY,recoveryPhrase:s,address:t.address})}).then(function(){Object(B.x)()&&"keystore"!==e&&Object(B.D)().then(function(e){var n=e.error;return n&&t.handleUpdateError(n.message)}),i(!1),r.push(I.e.MY_WALLET)})}catch(e){this.handleUpdateError(e.message)}else this.handleUpdateError(a(I.d.IMPORT_WALLET_ERROR_INVALID_RECOVERY_PHRASE))}},{key:"handleChangeType",value:function(e){(0,this.props.onUpdateImportType)(e)}},{key:"handleRedirect",value:function(e){this.props.history.push(e)}},{key:"handleGetLedgerAddresses",value:function(){var e=this,t=this.props,n=t.importWallet,r=t.onLoadWalletAddresses,o=t.onUpdateErrors,a=t.toggleLoading,u=t.web3,c=f()(n,"input.hdPath",""),i=this.handleValidateHDPath();y()(i)?(a(!0),o([]),Object(B.H)(u,c).then(function(e){a(!1),r(e)}).catch(function(t){return e.handleUpdateError(t.message)})):o(Object.values(i))}},{key:"handleValidateHDPath",value:function(){var e=this.props,t=e.importWallet,n=e.intl.formatMessage,r=e.web3;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(n,!0).forEach(function(t){It(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},(0,Object(B.r)(r).isRequired)({name:"hdPath",value:f()(t,"input.hdPath")},n(I.d.IMPORT_WALLET_ERROR_INVALID_HD_PATH)))}},{key:"handleUpdateError",value:function(e,t){var n=this.props,r=n.onUpdateErrors,o=n.toggleLoading;t||o(!1),r([e])}},{key:"render",value:function(){var e=this,t=this.props,n=t.addressPopup,a=t.importWallet,u=t.intl.formatMessage,c=t.onToggleAddressPopup,i=t.onUpdateChosenWallet,l=t.onUpdateInput;return o.a.createElement(r.Fragment,null,o.a.createElement(_.Helmet,null,o.a.createElement("title",null,u(I.d.IMPORT_WALLET_TITLE))),o.a.createElement(v.j,{size:"large"},o.a.createElement(v.c,null,o.a.createElement(b.a,null,o.a.createElement(v.o,null,u(I.d.IMPORT_WALLET_HEADER_TITLE)),o.a.createElement(O.a,null,"".concat(u(I.d.IMPORT_WALLET_ALTERNATIVE_TEXT)," "),o.a.createElement(v.u,{role:"presentation",onClick:function(){return e.handleRedirect(I.e.CREATE_WALLET)}},u(I.d.IMPORT_WALLET_ALTERNATIVE_LINK)))),o.a.createElement(h.a,null,o.a.createElement(E.a,{noGutters:!0},o.a.createElement(P.a,{className:"pr-3"},o.a.createElement(v.r,{isActive:f()(a,"type")===$.LEDGER,onClick:function(){return e.handleChangeType($.LEDGER)}},o.a.createElement(m.a,{src:gt.a,alt:u(I.d.IMPORT_WALLET_TAB_LEDGER_IMAGE_ALT)}),o.a.createElement(O.a,{className:"mt-3"},u(I.d.IMPORT_WALLET_TAB_LEDGER_TEXT)))),!Object(B.x)()&&o.a.createElement(P.a,{className:"px-3"},o.a.createElement(v.r,{isActive:f()(a,"type")===$.META_MASK,onClick:function(){return e.handleChangeType($.META_MASK)}},o.a.createElement(m.a,{src:gt.a,alt:u(I.d.IMPORT_WALLET_TAB_METAMASK_IMAGE_ALT)}),o.a.createElement(O.a,{className:"mt-3"},u(I.d.IMPORT_WALLET_TAB_METAMASK_TEXT)))),o.a.createElement(P.a,{className:"px-3"},o.a.createElement(v.r,{isActive:f()(a,"type")===$.RP_OR_PK,onClick:function(){return e.handleChangeType($.RP_OR_PK)}},o.a.createElement(m.a,{src:Rt.a,alt:u(I.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TEXT)}),o.a.createElement(O.a,{className:"mt-3"},u(I.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TEXT)),o.a.createElement(O.a,{className:"text-end small text-danger"},u(I.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_NOT_RECOMMENDED_TEXT)))),o.a.createElement(P.a,{className:"pl-3"},o.a.createElement(v.r,{isActive:f()(a,"type")===$.KEYSTORE,onClick:function(){return e.handleChangeType($.KEYSTORE)}},o.a.createElement(m.a,{src:Rt.a,alt:u(I.d.IMPORT_WALLET_TAB_KEYSTORE_IMAGE_ALT)}),o.a.createElement(O.a,{className:"mt-3"},u(I.d.IMPORT_WALLET_TAB_KEYSTORE_TEXT)),o.a.createElement(O.a,{className:"text-end small text-danger"},u(I.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_NOT_RECOMMENDED_TEXT))))),o.a.createElement(E.a,{noGutters:!0,className:"mt-5"},o.a.createElement(P.a,null,f()(a,"type")===$.LEDGER&&o.a.createElement(N,{errors:f()(a,"errors",[]),formValues:f()(a,"input",{}),updateInput:l}),f()(a,"type")===$.META_MASK&&o.a.createElement(z,null),f()(a,"type")===$.RP_OR_PK&&o.a.createElement(ye,{handleSubmit:this.handleAccessByRecoveryPhrase}),f()(a,"type")===$.KEYSTORE&&o.a.createElement(et,{accessWallet:this.handleAccessByRecoveryPhrase})))),![$.META_MASK,$.KEYSTORE].includes(f()(a,"type"))&&o.a.createElement(T.a,null,o.a.createElement(E.a,null,o.a.createElement(P.a,{size:6},o.a.createElement(v.h,{onClick:function(){return e.handleRedirect(I.e.LOGIN)}},u(I.d.COMMON_BUTTON_BACK))),o.a.createElement(P.a,{size:6},o.a.createElement(v.h,{btnYellow:!0,onClick:f()(a,"type")===$.RP_OR_PK?this.handleAccessByRecoveryPhrase:this.handleGetLedgerAddresses},u(I.d.COMMON_BUTTON_IMPORT)))))),o.a.createElement(Pt,{accessByLedger:this.handleAccessByLedger,data:n,togglePopup:c,updateChosenAddress:i})))}}])&&St(n.prototype,a),u&&St(n,u),t}();Ct.propTypes={addressPopup:u.a.object,history:u.a.object,importWallet:u.a.object,intl:u.a.object,onStoreWallet:u.a.func,onToggleAddressPopup:u.a.func,onUpdateChosenWallet:u.a.func,onUpdateErrors:u.a.func,onUpdateImportType:u.a.func,onUpdateInput:u.a.func,toggleLoading:u.a.func},Ct.defaultProps={addressPopup:{},history:{},importWallet:{},intl:{},onStoreWallet:function(){},onToggleAddressPopup:function(){},onUpdateChosenWallet:function(){},onUpdateErrors:function(){},onUpdateImportType:function(){},onUpdateInput:function(){},toggleLoading:function(){}};var Ut=Object(i.c)(function(){return Object(c.b)({addressPopup:te,importWallet:ne})},function(e){return{onLoadWalletAddresses:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/LOAD_WALLET_ADDRESSES",data:e}}(t))},onResetState:function(){return e({type:q})},onStoreWallet:function(t){return e(Object(vt.d)(t))},onToggleAddressPopup:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/TOGGLE_ADDRESS_POPUP",bool:e}}(t))},onUpdateChosenWallet:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_CHOSEN_WALLET",index:e}}(t))},onUpdateErrors:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_ERRORS",errors:e}}(t))},onUpdateImportType:function(t){return e({type:Z,importType:t})},onUpdateInput:function(t,n){return e(ue(t,n))}}}),kt=Object(B.v)({key:"importWallet",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOMO_WALLET/IMPORT_WALLET/LOAD_KEYSTORE_FILE":return e.setIn(["passwordPopup","fileData"],t.data);case"TOMO_WALLET/IMPORT_WALLET/LOAD_WALLET_ADDRESSES":return e.setIn(["addressPopup","wallets"],t.data).setIn(["addressPopup","isOpen"],!0);case q:return _t;case"TOMO_WALLET/IMPORT_WALLET/REVEAL_PASSWORD_INPUT":return e.setIn(["passwordPopup","isRevealed"],t.bool);case"TOMO_WALLET/IMPORT_WALLET/TOGGLE_ADDRESS_POPUP":return e.setIn(["addressPopup","isOpen"],t.bool).setIn(["addressPopup","chosenIndex"],"");case"TOMO_WALLET/IMPORT_WALLET/TOGGLE_PASSWORD_POPUP":var n=e.setIn(["passwordPopup","isOpen"],t.bool);return t.bool?n.setIn(["passwordPopup","input"],{}).setIn(["passwordPopup","errors"],{}):n;case"TOMO_WALLET/IMPORT_WALLET/UPDATE_CHOSEN_WALLET":return e.setIn(["addressPopup","chosenIndex"],t.index);case"TOMO_WALLET/IMPORT_WALLET/UPDATE_ERRORS":return e.setIn(["importWallet","errors"],t.errors);case Q:return e.setIn(["importWallet","input",t.name],t.value).setIn(["importWallet","errors"],[]);case"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_ERRORS":return e.setIn(["passwordPopup","errors"],t.errors);case"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_INPUT":return e.updateIn(["passwordPopup","input"],function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(n,!0).forEach(function(t){Tt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,Tt({},t.name,t.value))}).setIn(["passwordPopup","errors"],{});case Z:return e.setIn(["importWallet","type"],t.importType).setIn(["importWallet","input"],{}).setIn(["importWallet","errors"],[]);default:return e}}});t.default=Object(l.d)(Ut,w.c,B.R,kt,s.f,x.d)(Ct)},V6JL:function(e,t,n){e.exports=n.p+"ac668672164ad21d30034c7c34c3665f.png"}}]);