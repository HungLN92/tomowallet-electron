(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{R9Jo:function(e,t,n){e.exports=n.p+"bb39db5adfa46cefbd5559e75f71ea81.png"},W51z:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("17x9"),c=n.n(a),u=n("ANjH"),s=n("/MKj"),i=n("Ty5D"),l=n("G4qV"),p=n("yDJ3"),f=n.n(p),d=n("TJpk"),O=n("ok1R"),E=n("rhny"),b=n("umxu"),m=n("InJ6"),y=n("Umz7"),h=n("WlAH"),w=n("R9Jo"),_=n.n(w);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,v(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.redirectTo;return o.a.createElement(O.a,{className:"align-items-center"},o.a.createElement(E.a,{xs:12,md:6,lg:7},o.a.createElement(m.n,null,t(h.d.WELCOME_TITLE)),o.a.createElement("p",{className:"mb-5"},t(h.d.WELCOME_DESCRIPTION)),o.a.createElement(m.b,{className:"mt-3"},o.a.createElement("div",null,o.a.createElement(m.a,{btnBlue:!0,onClick:function(){return n(h.e.IMPORT_WALLET)}},t(h.d.WELCOME_BUTTON_IMPORT_WALLET))),o.a.createElement("div",{className:"m-3"},t(h.d.WELCOME_TEXT_BETWEEN_BUTTONS)),o.a.createElement("div",null,o.a.createElement(m.a,{onClick:function(){return n(h.e.CREATE_WALLET)}},t(h.d.WELCOME_BUTTON_CREATE_NEW_WALLET))))),o.a.createElement(E.a,{xs:12,md:6,lg:5,className:"d-none d-md-block"},o.a.createElement(b.a,{src:_.a,alt:t(h.d.WELCOME_IMAGE_ALT)})))}}])&&T(n.prototype,a),c&&T(n,c),t}();R.propTypes={intl:c.a.object,redirectTo:c.a.func},R.defaultProps={intl:{},redirectTo:function(){}};var S=Object(y.c)(R),j=n("JRPe"),W=n("BLzl"),I=n("afej"),M=n("ezmu"),A=n("jrRI"),C=n("3OM0"),D=n("L3zb"),F=n("hfUC"),k=n("cZcL"),N=n("vOnD"),U=n("/kxI");function V(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  padding-top: 90px !important;\n"]);return V=function(){return e},e}var B=Object(N.a)(U.a)(V()),x=n("7Qib");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=K(this,Y(t).call(this,e))).state={foundInput:!1},n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("passwordInput").focus()}},{key:"componentDidUpdate",value:function(){!this.state.foundInput&&document.body.contains(document.getElementById("passwordInput"))&&(document.getElementById("passwordInput").focus(),this.setState({foundInput:!0}))}},{key:"render",value:function(){var e=this.props,t=e.changePasswordInput,n=e.errors,r=e.formValues,a=e.intl.formatMessage,c=e.redirectToFreshLogin,u=e.validatePassword;return o.a.createElement(m.i,null,o.a.createElement(W.a,null,o.a.createElement(I.a,null,o.a.createElement(m.o,null,a(h.d.WELCOME_FORM_PASSWORD_TITLE)),o.a.createElement(M.a,null,o.a.createElement(j.a,G({},h.d.WELCOME_FORM_PASSWORD_DESCRIPTION,{values:{alternative:o.a.createElement(m.g,{btnBlue:!0,onClick:c,className:"font-weight-bold"},a(h.d.WELCOME_FORM_PASSWORD_DESCRIPTION_ALTERNATIVE_LOGIN))}})))),o.a.createElement(B,null,o.a.createElement(A.a,null,o.a.createElement(C.a,{for:"passwordInput"},a(h.d.WELCOME_FORM_PASSWORD_INPUT_PASSWORD_LABEL)),o.a.createElement(D.a,{id:"passwordInput",type:"password",name:"password",value:r.password,placeholder:a(h.d.WELCOME_FORM_PASSWORD_INPUT_PASSWORD_PLACEHOLDER),onChange:Object(x.c)(t),onKeyDown:Object(x.k)(u),invalid:f()(n,"password",[]).length>0}),o.a.createElement(F.a,null,f()(n,"password",[]).map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))})))),o.a.createElement(k.a,null,o.a.createElement(O.a,null,o.a.createElement(E.a,null,o.a.createElement(m.h,{btnYellow:!0,onClick:u},a(h.d.WELCOME_FORM_PASSWORD_BUTTON_LOGIN)))))))}}])&&z(n.prototype,a),c&&z(n,c),t}();H.propTypes={changePasswordInput:c.a.func,errors:c.a.object,formValues:c.a.object,intl:c.a.object,redirectToFreshLogin:c.a.func,validatePassword:c.a.func},H.defaultProps={changePasswordInput:function(){},errors:{},formValues:{},intl:{},redirectToFreshLogin:function(){},validatePassword:function(){}};var q=Object(y.c)(H),X=n("Mpt7"),Z=Object(x.f)(function(e){return f()(e,["welcome"],Object(X.a)({}))},function(e){return e.toJS().passwordForm});function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=Object(X.a)({passwordForm:{errors:{},input:{},isOpen:null}}),ne=n("/pVl"),re=n("SiMB");function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ce(t).call(this,e))||"object"!==oe(o)&&"function"!=typeof o?ue(r):o).handleChangeLoginForm=n.handleChangeLoginForm.bind(ue(n)),n.handleChangePasswordInput=n.handleChangePasswordInput.bind(ue(n)),n.handleQuickAccess=n.handleQuickAccess.bind(ue(n)),n.handleRedirect=n.handleRedirect.bind(ue(n)),n.handleValidatePassword=n.handleValidatePassword.bind(ue(n)),n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props.onTogglePasswordForm;Object(x.x)()?Object(x.j)().then(function(t){var n=t.error;e(!n)}):e(!1)}},{key:"componentWillUnmount",value:function(){(0,this.props.onResetState)()}},{key:"handleChangeLoginForm",value:function(){(0,this.props.onTogglePasswordForm)(!1)}},{key:"handleChangePasswordInput",value:function(e){(0,this.props.onUpdatePasswordInput)("password",e)}},{key:"handleQuickAccess",value:function(e){var t=this,n=this.props,r=n.intl.formatMessage,o=n.onStoreWallet,a=n.onUpdatePasswordErrors,c=n.toggleLoading,u=n.updateWeb3,s=f()(e,"privateKey","");if(c(!0),Object(x.y)(s))try{var i=f()(h.f,[Object(x.q)()],{}),l=Object(x.g)(s,i);u(l),Object(x.o)(l.currentProvider.addresses[0],i).then(function(e){var t={address:l.currentProvider.addresses[0],balance:e};o(t),Object(x.N)({loginType:h.b.LOGIN_TYPE.PRIVATE_KEY,recoveryPhrase:s,address:t.address})}).then(function(){c(!1),t.handleRedirect(h.e.MY_WALLET)})}catch(e){c(!1),a({password:[r(h.d.WELCOME_FORM_PASSWORD_ERROR_RETRIEVE_WALLET_FAILED)]})}else c(!1),a({password:[r(h.d.WELCOME_FORM_PASSWORD_ERROR_INVALID_PRIVATE_KEY)]})}},{key:"handleRedirect",value:function(e){this.props.history.push(e)}},{key:"handleValidatePassword",value:function(){var e=this,t=this.props,n=t.intl.formatMessage,r=t.onUpdatePasswordErrors,o=t.passwordForm,a=t.web3,c=f()(o,"input.password","");try{Object(x.C)().then(function(t){var o=t.error,u=t.data;if(o)r({password:[o.message]});else try{var s=Object(x.i)(a,JSON.parse(u),c);e.handleQuickAccess(s)}catch(o){r({password:[n(h.d.WELCOME_FORM_PASSWORD_ERROR_INVALID_PASSWORD)]})}})}catch(e){r({password:[n(h.d.WELCOME_FORM_PASSWORD_ERROR_KEYSTORE_NOT_EXISTS)]})}}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.passwordForm,a=f()(n,"isOpen");return o.a.createElement(r.Fragment,null,o.a.createElement(d.Helmet,null,o.a.createElement("title",null,t(h.d.WELCOME_TITLE))),a&&o.a.createElement(q,{changePasswordInput:this.handleChangePasswordInput,errors:f()(n,"errors",{}),formValues:f()(n,"input",{}),redirectToFreshLogin:this.handleChangeLoginForm,validatePassword:this.handleValidatePassword})||!1===a&&o.a.createElement(S,{redirectTo:this.handleRedirect}))}}])&&ae(n.prototype,a),c&&ae(n,c),t}();ie.propTypes={history:c.a.object,intl:c.a.object,onResetState:c.a.func,onStoreWallet:c.a.func,onTogglePasswordForm:c.a.func,onUpdatePasswordErrors:c.a.func,onUpdatePasswordInput:c.a.func,passwordForm:c.a.object,toggleLoading:c.a.func,updateWeb3:c.a.func,web3:c.a.object},ie.defaultProps={history:{},intl:{},onResetState:function(){},onStoreWallet:function(){},onTogglePasswordForm:function(){},onUpdatePasswordErrors:function(){},onUpdatePasswordInput:function(){},passwordForm:{},toggleLoading:function(){},updateWeb3:function(){},web3:{}};var le=Object(s.c)(function(){return Object(l.b)({passwordForm:Z})},function(e){return{onResetState:function(){return e({type:"TOMOWALLET/WELCOME/RESET_STATE"})},onStoreWallet:function(t){return e(Object(re.d)(t))},onTogglePasswordForm:function(t){return e(function(e){return{type:"TOMOWALLET/WELCOME/TOGGLE_PASSWORD_FORM",bool:e}}(t))},onUpdatePasswordErrors:function(t){return e(function(e){return{type:"TOMOWALLET/WELCOME/UPDATE_PASSWORD_ERRORS",errors:e}}(t))},onUpdatePasswordInput:function(t,n){return e(function(e,t){return{type:"TOMOWALLET/WELCOME/UPDATE_PASSWORD_INPUT",name:e,value:t}}(t,n))},toggleLoading:function(t){return e(Object(re.f)(t))}}}),pe=Object(x.v)({key:"welcome",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOMOWALLET/WELCOME/RESET_STATE":return te;case"TOMOWALLET/WELCOME/TOGGLE_PASSWORD_FORM":return e.setIn(["passwordForm","isOpen"],t.bool);case"TOMOWALLET/WELCOME/UPDATE_PASSWORD_ERRORS":return e.setIn(["passwordForm","errors"],t.errors).setIn(["passwordForm","input"],{});case"TOMOWALLET/WELCOME/UPDATE_PASSWORD_INPUT":return e.updateIn(["passwordForm","input"],function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){ee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,ee({},t.name,t.value))}).setIn(["passwordForm","errors"],{});default:return e}}});t.default=Object(u.d)(le,y.c,x.R,pe,i.f,ne.d)(ie)}}]);